分组函数



Count 计数

Sum 求和

Avg 平均值

Max 最大值

Min 最小值



所有的分组函数都是对“某一组”数据进行操作的。



分组函数一共5个。

分组函数还要另外一个名字：多行处理函数。

多行处理函数的特点：输入多行，最终输出的结果是一行。



分组函数自动忽略null：

select count(comm) from emp;

+-------------+

| count(comm) |

+-------------+

| 4 |

+-------------+



ifnull（）空处理函数

ifnull（可能为null的数据，被当作什么处理）：属于单行处理函数



sql语句当中有一个语法规则，分组函数不可直接使用在where子句当中。



找薪资高于平均薪资的员工：

select ename,sal from emp where sal>avg(sal);//这样写会有错误：无效的使用了分组函数

原因：分组函数不可以直接出现在where子句当中

正确的写法：

select ename,sal from emp where sal>(select avg(sal) from emp);

  +-------+---------+

  | ename | sal |

  +-------+---------+

  | JONES | 2975.00 |

  | BLAKE | 2850.00 |

  | CLARK | 2450.00 |

  | SCOTT | 3000.00 |

  | KING | 5000.00 |

  | FORD | 3000.00 |

  +-------+---------+




count（\*）和count（具体的某个字段的关系）：

count（\*）是统计总记录条数的。

count（具体某个字段）是统计某个字段中不为null的元素总数。



分组函数也能组合起来使用：

select count(\*),sum(sal),avg(sal),min(sal),max(sal) from emp;

  +----------+----------+-------------+----------+----------+

  | count(\*) | sum(sal) | avg(sal) | min(sal) | max(sal) |

  +----------+----------+-------------+----------+----------+

  | 14 | 29025.00 | 2073.214286 | 800.00 | 5000.00 |

  +----------+----------+-------------+----------+----------+






